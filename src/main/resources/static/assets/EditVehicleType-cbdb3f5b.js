import{u as p,r as o,a as r,j as e,B as d,_ as i}from"./index-2e85eed9.js";import{I as h,a as g,E as y}from"./index-497b2833.js";const j=()=>{sessionStorage.getItem("branch"),sessionStorage.getItem("role");const n=sessionStorage.getItem("userid");p();const m=`${d}/api/vehicleType`,[l,s]=o.useState({id:"",veh_type:"",fuel_allowance:"",km_allowance:""}),u=window.location.href.split("/").pop(),[x,c]=o.useState(!1);o.useEffect(()=>{r({method:"post",url:`${m}`,data:{user:n,vehicletypeid:u,type:"details"}}).then(t=>{s(t.data[0])}).catch(t=>console.log(t))},[]);function f(t){l.veh_type!=""&&l.fuel_allowance!=""&&l.km_allowance!=""?(c(!0),r({method:"post",url:`${d}/api/vehicleType`,data:{user:n,id:t,veh_type:l.veh_type,km_allowance:l.km_allowance,fuel_allowance:l.fuel_allowance,type:"update"}}).then(a=>{a.data[0].allowed==0?i.success(a.data[0].message):i.error(a.data[0].message),c(!1)}).catch(a=>console.log(a))):i.error("Please fill all the required fields")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-4 flex-1 h-full",children:[e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"flex flex-row gap-6 items-center",children:e.jsxs("div",{className:"flex flex-row text-center items-center gap-2 font-bold",children:["Edit Vehicle Type",e.jsx(h,{})]})}),e.jsx("div",{className:"flex flex-row items-center",children:e.jsx(g,{})})]}),e.jsxs("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1 flex-1",children:[e.jsx("div",{className:"flex gap-2 mb-5",children:e.jsx("button",{type:"button",onClick:()=>f(l.id),className:"flex items-center justify-center block px-5 rounded border border-primary bg-primary p-2 text-center font-medium text-white transition hover:bg-opacity-90",children:x?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-5 h-5 border-4 border-transparent border-t-white animate-spin rounded-full"}),e.jsx("span",{className:"ml-2",children:"Saving..."})," "]}):e.jsx("p",{children:"Save"})})}),e.jsxs("div",{className:"flex flex-row gap-5 items-center h-10 mb-5",children:[e.jsx(y,{}),e.jsx("h1",{className:"text-3xl font-semibold",children:"Edit Vehicle Type"})]}),e.jsx("div",{className:"flex md:flex-row gap-5 flex-col",children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 w-full",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm/6 font-medium text-gray-900",children:"Vehicle Type"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{name:"vehicle_type",value:l.veh_type,onChange:t=>s({...l,veh_type:t.target.value}),autoComplete:"given-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:"Fuel Allowance / Month"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{name:"fuel_allowance",value:l.fuel_allowance,onChange:t=>s({...l,fuel_allowance:t.target.value}),type:"text",autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:"KM Allowance / Month"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{name:"km_allowance",value:l.km_allowance,onChange:t=>s({...l,km_allowance:t.target.value}),type:"text",autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]})]})})]})]})})};export{j as default};
