import{r as o,a as c,B as m,j as e,_ as u}from"./index-2e85eed9.js";import{I as $,a as E,E as T}from"./index-497b2833.js";const H=()=>{sessionStorage.getItem("branch"),sessionStorage.getItem("role");const N=sessionStorage.getItem("userid"),[t,a]=o.useState({veh_type:"",veh_gear:"",make:"",vehicle_name:"",model:"",reg_emirate:"",plate_number:"",purchase_type:"",purchase_company:"",reg_number:"",initial_mileage:"",mileage:"",rental_from:"",rental_to:"",lease_from:"",lease_to:"",replace_from:"",replace_to:"",notes:"",plan:""}),[d,w]=o.useState([]),[k,v]=o.useState(!1);o.useEffect(()=>{c.post(`${m}/api/vehicle`,{type:"list"}).then(l=>{w(l.data)}).catch(l=>{console.log(l)})},[]);function C(){let l=0;if(t.veh_type==""||t.veh_gear==""||t.make==""||t.vehicle_name==""||t.reg_emirate==""||t.plate_number==""||t.reg_number==""||t.initial_mileage==""||t.mileage==""||t.plan=="")return u.error("Please enter all the required field!"),l++,!1;if(t.reg_number.length<5||t.reg_number.length>5)return u.error("Registartion number must be 5 digit."),l++,!1;if(l>0)return!1;{v(!0);const i={type:"addvehicle",veh_type:t.veh_type,veh_gear:t.veh_gear,make:t.make,vehicle_name:t.vehicle_name,model:t.model,reg_emirate:t.reg_emirate,plate_number:t.plate_number,purchase_type:t.purchase_type,purchase_company:t.purchase_company,reg_number:t.reg_number,initial_mileage:t.initial_mileage,mileage:t.mileage,rental_from:t.rental_from,rental_to:t.rental_to,lease_from:t.lease_from,lease_to:t.lease_to,replace_from:t.replace_from,replace_to:t.replace_to,notes:t.notes,plan:t.plan,userid:N};c.post(`${m}/api/vehicle`,i).then(s=>{s.data[0].status=="1"?(u.success(s.data[0].message),setTimeout(()=>{window.location.reload()},2e3)):u.error(s.data[0].message),v(!1)}).catch(s=>{console.log(s)})}}function F(l){a({...t,veh_type:l}),P(l)}function S(l){a({...t,make:l}),A(l)}const[x,R]=o.useState([]),P=async(l="")=>{const i=`${m}/api/vehicle`,s={type:"getbrandname",brand_id:l.toString()};await c.post(i,s).then(n=>{R(n.data)}).catch(n=>{console.log(n)})},[h,V]=o.useState([]),A=async(l="")=>{const i=`${m}/api/vehicle`,s={type:"getmakename",make_id:l.toString()};await c.post(i,s).then(n=>{V(n.data)}).catch(n=>{console.log(n)})};for(var L=new Date().getFullYear(),y=[],r=2016;r<=L;r++)y.push(e.jsx("option",{value:r,children:r}));const[b,f]=o.useState("addv_active"),[j,p]=o.useState(""),[_,g]=o.useState("addv_active");function I(l){a({...t,purchase_type:l}),f(""),p(""),g(""),l=="Lease"?(p("addv_active"),g("addv_active")):l=="Rental"?(f("addv_active"),g("addv_active")):(f("addv_active"),p("addv_active"))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-4 flex-1 h-full",children:[e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("div",{className:"flex flex-row gap-6 items-center",children:e.jsxs("div",{className:"flex flex-row text-center items-center gap-2 font-bold",children:["New Vehicle",e.jsx($,{})]})}),e.jsx("div",{className:"flex flex-row items-center",children:e.jsx(E,{})})]}),e.jsxs("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1 flex-1",children:[e.jsx("div",{className:"flex gap-2 mb-5",children:e.jsx("button",{type:"button",onClick:C,className:"flex items-center justify-center block px-5 rounded border border-primary bg-primary p-2 text-center font-medium text-white transition hover:bg-opacity-90",children:k?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-5 h-5 border-4 border-transparent border-t-white animate-spin rounded-full"}),e.jsx("span",{className:"ml-2",children:"Saving..."})," "]}):e.jsx("p",{children:"Save"})})}),e.jsxs("div",{className:"flex flex-row gap-5 items-center h-10 mb-5",children:[e.jsx(T,{}),e.jsx("h1",{className:"text-3xl font-semibold",children:"New Vehicle"})]}),e.jsx("div",{className:"flex md:flex-row gap-5 flex-col",children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 w-full",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"first-name",className:"block text-sm/6 font-medium text-gray-900",children:["Vehicle Category ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{name:"veh_type",onChange:l=>F(l.target.value),autoComplete:"given-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",children:[e.jsx("option",{value:"",selected:t.veh_type==="",children:"Choose Vehicle Category"}),d&&d!=null?e.jsx(e.Fragment,{children:d.map(l=>e.jsx("option",{value:l.id,children:l.vehicle_type}))}):null]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:["Vehicle Gear ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{name:"veh_gear",value:t.veh_gear,onChange:l=>a({...t,veh_gear:l.target.value}),autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",children:[e.jsx("option",{value:"",selected:t.veh_gear==="",children:"Choose Vehicle Gear"}),e.jsx("option",{value:"Automatic",children:"Automatic"}),e.jsx("option",{value:"Manual",children:"Manual"})]})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:["Vehicle Brand ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{name:"employee_number",onChange:l=>S(l.target.value),autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",children:[e.jsx("option",{value:"",selected:t.make==="",children:"Choose Vehicle Type"}),x&&x!=null?e.jsx(e.Fragment,{children:x.map(l=>e.jsx("option",{value:l.id,children:l.brand}))}):null]})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:["Vehicle Name ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{name:"vehicle_name",onChange:l=>a({...t,vehicle_name:l.target.value}),autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",children:[e.jsx("option",{value:"",selected:t.vehicle_name==="",children:"Choose Vehicle"}),h&&h!=null?e.jsx(e.Fragment,{children:h.map(l=>e.jsx("option",{value:l.vehicle_name,children:l.vehicle_name}))}):null]})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm/6 font-medium text-gray-900",children:"Model Year"}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{name:"vehicle_modelname",onChange:l=>a({...t,model:l.target.value}),autoComplete:"given-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",children:[e.jsx("option",{value:"",selected:t.model==="",children:"Choose Model Year"}),y]})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:["Reg.Emirate ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{name:"reg_emirate",onChange:l=>a({...t,reg_emirate:l.target.value}),autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",children:[e.jsxs("option",{value:"",selected:t.reg_emirate==="",children:["Choose reg"," "]}),e.jsx("option",{value:"DXB",children:"DXB"}),e.jsx("option",{value:"AUH",children:"AUH"}),e.jsx("option",{value:"SHJ",children:"SHJ"}),e.jsx("option",{value:"RAK",children:"RAK"})]})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:["Plate Number ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{name:"text",value:t.plate_number,onChange:l=>a({...t,plate_number:l.target.value}),type:"text",autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:["Reg Number ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{type:"text",name:"reg_number",value:t.reg_number,onChange:l=>a({...t,reg_number:l.target.value}),autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:["Initial mileage(at the time of leasing a vehicle) ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"license_type",type:"text",name:"license_type",value:t.initial_mileage,onChange:l=>a({...t,initial_mileage:l.target.value}),className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"first-name",className:"block text-sm/6 font-medium text-gray-900",children:["Current mileage(mileage for each month) ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{type:"text",name:"name",value:t.mileage,onChange:l=>a({...t,mileage:l.target.value}),autoComplete:"given-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:["Plan Name ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{name:"purchase_type",onChange:l=>a({...t,plan:l.target.value}),autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"Limited Plan",children:"Limited Plan"}),e.jsx("option",{value:"Unlimited Plan",children:"Unlimited Plan"}),e.jsx("option",{value:"Flexi Plan",children:"Flexi Plan"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:"Rental/Lease/Replacement"}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{name:"purchase_type",onChange:l=>I(l.target.value),autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",children:[e.jsx("option",{value:"",children:"Select option"}),e.jsx("option",{value:"Rental",selected:!0,children:"Rental"}),e.jsx("option",{value:"Lease",children:"Lease"}),e.jsx("option",{value:"Replacement",children:"Replacement"}),e.jsx("option",{value:"Timexpress Own",children:"Timexpress Own"}),e.jsx("option",{value:"Private",children:"Private"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:"Purchase Company"}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{name:"purchase_company",onChange:l=>a({...t,purchase_company:l.target.value}),autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6",children:[e.jsx("option",{value:"",selected:t.purchase_company==="",children:"Select Company"}),e.jsx("option",{value:"National Rent A Car",children:"National rent a car"}),e.jsx("option",{value:"Lease Plan Rent A Car",children:"Lease plan rent a car"}),e.jsx("option",{value:"Dollar Rent A Car",children:"Dollar rent a car"}),e.jsx("option",{value:"Shift Car Rental",children:"Shift car rental"})]})})]}),e.jsxs("div",{className:`sm:col-span-3 ${j}`,children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:"Rental From"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{name:"rental_from",value:t.rental_from,onChange:l=>a({...t,rental_from:l.target.value}),type:"date",autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{className:`sm:col-span-3 ${j}`,children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm/6 font-medium text-gray-900",children:"Rental to"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"first-rental_to",type:"date",name:"rental_to",value:t.rental_to,onChange:l=>a({...t,rental_to:l.target.value}),autoComplete:"given-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{className:`sm:col-span-3 ${b}`,children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:"Lease From"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{name:"lease_from",value:t.lease_from,onChange:l=>a({...t,lease_from:l.target.value}),type:"date",autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{className:`sm:col-span-3 ${b}`,children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm/6 font-medium text-gray-900",children:"Lease to"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"lease_to",type:"date",name:"lease_to",value:t.lease_to,onChange:l=>a({...t,lease_to:l.target.value}),autoComplete:"given-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{className:`sm:col-span-3 ${_}`,children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:"From"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{name:"replace_from",value:t.replace_from,onChange:l=>a({...t,replace_from:l.target.value}),type:"date",autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{className:`sm:col-span-3 ${_}`,children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm/6 font-medium text-gray-900",children:"To"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"replace_to",type:"date",name:"replace_to",value:t.replace_to,onChange:l=>a({...t,replace_to:l.target.value}),autoComplete:"given-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm/6 font-medium text-gray-900",children:"Special Notes"}),e.jsx("div",{className:"mt-2",children:e.jsx("textarea",{id:"last-name",rows:2,name:"notes",value:t.notes,onChange:l=>a({...t,notes:l.target.value}),autoComplete:"family-name",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]})]})})]})]})})};export{H as default};
